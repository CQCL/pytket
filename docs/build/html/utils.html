

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pytket.utils &mdash; pytket 0.7.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/jupyter-sphinx.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pytket.logging" href="logging.html" />
    <link rel="prev" title="pytket.transform" href="transform.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pytket
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="licence.html">SOFTWARE LICENCE</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry_data_policy.html">PYTKET TELEMETRY DATA POLICY</a></li>
<li class="toctree-l1"><a class="reference internal" href="opensource.html">Open Source Attribution</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manual:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual_intro.html">What is tket?</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_circuit.html">Circuit Construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_backend.html">Running on Backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_compiler.html">Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_noise.html">Noise and the Quantum Circuit Model</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="backends.html">pytket.backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="circuit.html">pytket.circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="pauli.html">pytket.pauli</a></li>
<li class="toctree-l1"><a class="reference internal" href="device.html">pytket.device</a></li>
<li class="toctree-l1"><a class="reference internal" href="passes.html">pytket.passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="predicates.html">pytket.predicates</a></li>
<li class="toctree-l1"><a class="reference internal" href="program.html">pytket.program</a></li>
<li class="toctree-l1"><a class="reference internal" href="partition.html">pytket.partition</a></li>
<li class="toctree-l1"><a class="reference internal" href="qasm.html">pytket.qasm</a></li>
<li class="toctree-l1"><a class="reference internal" href="quipper.html">pytket.quipper</a></li>
<li class="toctree-l1"><a class="reference internal" href="routing.html">pytket.routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">pytket.transform</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pytket.utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pytket.utils.spam">pytket.utils.spam</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">pytket.logging</a></li>
</ul>
<p class="caption"><span class="caption-text">Specific extensions:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="extensions/aqt.html">pytket-aqt</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/braket.html">pytket-braket</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/cirq.html">pytket-cirq</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/honeywell.html">pytket-honeywell</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/projectq.html">pytket-projectq</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/pyquil.html">pytket-pyquil</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/pyzx.html">pytket-pyzx</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/qiskit.html">pytket-qiskit</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/qsharp.html">pytket-qsharp</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/qulacs.html">pytket-qulacs</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/ionq.html">pytket-ionq</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pytket</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>pytket.utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pytket.utils">
<span id="pytket-utils"></span><h1>pytket.utils<a class="headerlink" href="#module-pytket.utils" title="Permalink to this headline">¶</a></h1>
<p>Utility functions for performing high-level procedures in pytket</p>
<dl class="py function">
<dt id="pytket.utils.expectation_from_shots">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">expectation_from_shots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shot_table</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><a class="headerlink" href="#pytket.utils.expectation_from_shots" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of a circuit from its shots.
Computes the parity of ‘1’s across all bits to determine a +1 or -1 contribution from each row, and returns the average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shot_table</strong> (<em>np.ndarray</em>) – The table of shots to interpret.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expectation value in the range [-1, 1].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.expectation_from_counts">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">expectation_from_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><a class="headerlink" href="#pytket.utils.expectation_from_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of a circuit from shot counts.
Computes the parity of ‘1’s across all bits to determine a +1 or -1 contribution from each readout, and returns the weighted average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>..</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – Counts of each measurement outcome observed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expectation value in the range [-1, 1].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.get_pauli_expectation_value">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">get_pauli_expectation_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_circuit</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em>, <em class="sig-param"><span class="n">pauli</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString">pytket.pauli.QubitPauliString</a></span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Backend</span></em>, <em class="sig-param"><span class="n">n_shots</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><a class="headerlink" href="#pytket.utils.get_pauli_expectation_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of the given circuit with respect to the Pauli term by preparing measurements in the appropriate basis, running on the backend and interpreting the counts/statevector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_circuit</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit that generates the desired state <span class="math notranslate nohighlight">\(\left|\psi\right&gt;\)</span>.</p></li>
<li><p><strong>pauli</strong> (<a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString"><em>QubitPauliString</em></a>) – Pauli operator</p></li>
<li><p><strong>backend</strong> (<a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend"><em>Backend</em></a>) – pytket backend to run circuit on.</p></li>
<li><p><strong>n_shots</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – Number of shots to run if backend supports shots/counts. Set to None to calculate using statevector if supported by the backend. Defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(\left&lt;\psi | P | \psi \right&gt;\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.get_operator_expectation_value">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">get_operator_expectation_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_circuit</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em>, <em class="sig-param"><span class="n">operator</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator">pytket.utils.QubitPauliOperator</a></span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Backend</span></em>, <em class="sig-param"><span class="n">n_shots</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">partition_strat</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="partition.html#pytket.partition.PauliPartitionStrat" title="pytket.partition.PauliPartitionStrat">pytket.partition.PauliPartitionStrat</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colour_method</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket.partition.GraphColourMethod" title="pytket.partition.GraphColourMethod">pytket.partition.GraphColourMethod</a></span> <span class="o">=</span> <span class="default_value">GraphColourMethod.LargestFirst</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Union[int, float, None]</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><a class="headerlink" href="#pytket.utils.get_operator_expectation_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of the given circuit with respect to the operator based on its individual Pauli terms.
If the QubitPauliOperator has symbolic values the expectation value will also be symbolic.
The input circuit must belong to the default qubit register and have contiguous qubit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_circuit</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit that generates the desired state <span class="math notranslate nohighlight">\(\left|\psi\right&gt;\)</span></p></li>
<li><p><strong>operator</strong> (<a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator"><em>QubitPauliOperator</em></a>) – Operator <span class="math notranslate nohighlight">\(H\)</span>. Currently does not support free symbols for the purpose of obtaining expectation values.</p></li>
<li><p><strong>backend</strong> (<a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend"><em>Backend</em></a>) – pytket backend to run circuit on.</p></li>
<li><p><strong>n_shots</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – Number of shots to run if backend supports shots/counts. None will force the backend to give the full state if available. Defaults to None</p></li>
<li><p><strong>partition_strat</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="partition.html#pytket.partition.PauliPartitionStrat" title="pytket.partition.PauliPartitionStrat"><em>PauliPartitionStrat</em></a><em>]</em><em>, </em><em>optional</em>) – If retrieving shots, can perform measurement reduction using a chosen strategy</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(\left&lt;\psi | H | \psi \right&gt;\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.append_pauli_measurement">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">append_pauli_measurement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pauli_string</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString">pytket.pauli.QubitPauliString</a></span></em>, <em class="sig-param"><span class="n">circ</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.append_pauli_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends measurement instructions to a given circuit, measuring each qubit in a given basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pauli_string</strong> (<a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString"><em>QubitPauliString</em></a>) – The pauli string to measure</p></li>
<li><p><strong>circ</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit to add measurement to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.counts_from_shot_table">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">counts_from_shot_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shot_table</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.counts_from_shot_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarises a shot table into a dictionary of counts for each observed outcome.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shot_table</strong> (<em>np.ndarray</em>) – Table of shots from a pytket backend.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary mapping observed readouts to the number of times observed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Tuple[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, ..], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.probs_from_counts">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">probs_from_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], float]<a class="headerlink" href="#pytket.utils.probs_from_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts raw counts of observed outcomes into the observed probability distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>..</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – Dictionary mapping observed readouts to the number of times observed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Probability distribution over observed readouts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Tuple[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, ..], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.probs_from_state">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">probs_from_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">min_p</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span> <span class="o">=</span> <span class="default_value">1e-10</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], float]<a class="headerlink" href="#pytket.utils.probs_from_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts statevector to the probability distribution over readouts in the
computational basis. Ignores probabilities lower than <cite>min_p</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>np.ndarray</em>) – Full statevector with big-endian encoding.</p></li>
<li><p><strong>min_p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Minimum probability to include in result</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Probability distribution over readouts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Tuple[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.permute_qubits_in_statevector">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">permute_qubits_in_statevector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">permutation</span><span class="p">:</span> <span class="n">Tuple[int, …]</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.permute_qubits_in_statevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges a statevector according to a permutation of the qubit indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>np.ndarray</em>) – Original statevector.</p></li>
<li><p><strong>permutation</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>..</em><em>]</em>) – Map from current qubit index (big-endian) to its new position, encoded as a list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated statevector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.permute_rows_cols_in_unitary">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">permute_rows_cols_in_unitary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">matrix</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">permutation</span><span class="p">:</span> <span class="n">Tuple[int, …]</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.permute_rows_cols_in_unitary" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges the rows of a unitary matrix according to a permutation of the qubit indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>np.ndarray</em>) – Original unitary matrix</p></li>
<li><p><strong>permutation</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>..</em><em>]</em>) – Map from current qubit index (big-endian) to its new position, encoded as a list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated unitary matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.permute_basis_indexing">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">permute_basis_indexing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">matrix</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">permutation</span><span class="p">:</span> <span class="n">Tuple[int, …]</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.permute_basis_indexing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Rearranges the first dimensions of an array (statevector or unitary)</dt><dd><p>according to a permutation of the bit indices in the binary representation
of row indices.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>np.ndarray</em>) – Original unitary matrix</p></li>
<li><p><strong>permutation</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>..</em><em>]</em>) – Map from current qubit index (big-endian) to its new position, encoded as a list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated unitary matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.gen_term_sequence_circuit">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">gen_term_sequence_circuit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operator</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator">pytket.utils.QubitPauliOperator</a></span></em>, <em class="sig-param"><span class="n">reference_state</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em>, <em class="sig-param"><span class="n">partition_strat</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket.partition.PauliPartitionStrat" title="pytket.partition.PauliPartitionStrat">pytket.partition.PauliPartitionStrat</a></span> <span class="o">=</span> <span class="default_value">PauliPartitionStrat.CommutingSets</span></em>, <em class="sig-param"><span class="n">colour_method</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket.partition.GraphColourMethod" title="pytket.partition.GraphColourMethod">pytket.partition.GraphColourMethod</a></span> <span class="o">=</span> <span class="default_value">GraphColourMethod.Lazy</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a><a class="headerlink" href="#pytket.utils.gen_term_sequence_circuit" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequences QubitPauliOperator terms to generate a circuit made of CircBoxes.
Each CircBox contains a sequence of PauliExpBox objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Circuit</span></code></a></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>operator</strong> (<a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator"><em>QubitPauliOperator</em></a>) – The operator terms to sequence</p></li>
<li><p><strong>reference_state</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – reference state to add sequenced terms to.</p></li>
<li><p><strong>partition_strat</strong> (<a class="reference internal" href="partition.html#pytket.partition.PauliPartitionStrat" title="pytket.partition.PauliPartitionStrat"><em>PauliPartitionStrat</em></a><em>, </em><em>optional</em>) – a Partition strategy</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.readout_counts">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">readout_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ctr</span><span class="p">:</span> <span class="n">Counter<span class="p">[</span><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Counter[Tuple[int, …]]<a class="headerlink" href="#pytket.utils.readout_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert counts from <a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutcomeArray</span></code></a> types to tuples of ints.</p>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.compare_statevectors">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">compare_statevectors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">first</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">second</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pytket.utils.compare_statevectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Check approximate equality up to global phase for statevectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first</strong> (<em>np.ndarray</em>) – First statevector.</p></li>
<li><p><strong>second</strong> (<em>np.ndarray</em>) – Second statevector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Approximate equality.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.compare_unitaries">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">compare_unitaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">first</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">second</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a><a class="headerlink" href="#pytket.utils.compare_unitaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Check approximate equality up to global phase for unitaries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first</strong> (<em>np.ndarray</em>) – First unitary.</p></li>
<li><p><strong>second</strong> (<em>np.ndarray</em>) – Second unitary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Approximate equality.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pytket.utils.OutcomeArray">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">OutcomeArray</code><a class="headerlink" href="#pytket.utils.OutcomeArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of measured outcomes from qubits. Derived class of <cite>numpy.ndarray</cite>.</p>
<p>Bitwise outcomes are compressed into unsigned 8-bit integers, each
representing up to 8 qubit measurements. Each row is a repeat measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of bit entries stored, less than or equal to the bit
capacity of the array.</p></li>
<li><p><strong>n_outcomes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of outcomes stored.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pytket.utils.OutcomeArray.choose_indices">
<code class="sig-name descname">choose_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><a class="headerlink" href="#pytket.utils.OutcomeArray.choose_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Permute ordering of bits in outcomes or choose subset of bits.
e.g. [1, 0, 2] acting on a bitstring of length 4 swaps bit locations 0 &amp; 1, leaves 2 in the
same place and deletes location 3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – New locations for readout bits.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New array corresponding to given permutation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.counts">
<code class="sig-name descname">counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Counter<span class="p">[</span><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><span class="p">]</span><a class="headerlink" href="#pytket.utils.OutcomeArray.counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate counts of outcomes in OutcomeArray</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Counter of outcome, number of instances</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Counter[<a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ar_dict</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">, </span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><a class="headerlink" href="#pytket.utils.OutcomeArray.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OutcomeArray from JSON serializable dictionary (as created by <cite>to_dict</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict</strong> – Dictionary representation of OutcomeArray.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of OutcomeArray</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.from_ints">
<em class="property">classmethod </em><code class="sig-name descname">from_ints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ints</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">width</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></span></em>, <em class="sig-param"><span class="n">big_endian</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><a class="headerlink" href="#pytket.utils.OutcomeArray.from_ints" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Create OutcomeArray from iterator of integers corresponding to outcomes</dt><dd><p>where the bitwise representation of the integer corresponds to the readouts.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ints</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) – Iterable of outcome integers</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of qubit measurements</p></li>
<li><p><strong>big_endian</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to use big endian encoding (or little endian
if False), defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>OutcomeArray instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.from_readouts">
<em class="property">classmethod </em><code class="sig-name descname">from_readouts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">readouts</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>Sequence<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">pytket.utils.OutcomeArray</a><a class="headerlink" href="#pytket.utils.OutcomeArray.from_readouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Create OutcomeArray from a 2D array like object of read-out integers,
e.g. [[1, 1, 0], [0, 1, 1]]</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a><span class="p">, </span>Any<span class="p">]</span><a class="headerlink" href="#pytket.utils.OutcomeArray.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a JSON serializable dictionary representation of the OutcomeArray.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON serializable dictionary</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a>, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_intlist">
<code class="sig-name descname">to_intlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">big_endian</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span><a class="headerlink" href="#pytket.utils.OutcomeArray.to_intlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Express each outcome as an integer corresponding to the bit values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>big_endian</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to use big endian encoding (or little endian
if False), defaults to True</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of integers, each corresponding to an outcome.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_readout">
<code class="sig-name descname">to_readout</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.OutcomeArray.to_readout" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a singleton to a single readout (1D array)</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_readouts">
<code class="sig-name descname">to_readouts</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.OutcomeArray.to_readouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert OutcomeArray to a 2D array of readouts, each row a separate outcome
and each column a bit value.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.n_outcomes">
<em class="property">property </em><code class="sig-name descname">n_outcomes</code><a class="headerlink" href="#pytket.utils.OutcomeArray.n_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of outcomes stored.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.width">
<em class="property">property </em><code class="sig-name descname">width</code><a class="headerlink" href="#pytket.utils.OutcomeArray.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of bit entries stored, less than or equal to the bit capacity of the array.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pytket.utils.QubitPauliOperator">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">QubitPauliOperator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString">pytket.pauli.QubitPauliString</a><span class="p">, </span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><span class="p">, </span>sympy.core.expr.Expr<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.QubitPauliOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic data structure for generation of circuits and expectation
value calculation. Contains a dictionary from QubitPauliString to
sympy Expr. Capacity for symbolic expressions allows the operator
to be used to generate ansätze for variational algorithms.</p>
<p>Represents a mathematical object <span class="math notranslate nohighlight">\(\sum_j \alpha_j P_j\)</span>,
where each <span class="math notranslate nohighlight">\(\alpha_j\)</span> is a complex symbolic expression and
<span class="math notranslate nohighlight">\(P_j\)</span> is a Pauli string, i.e. <span class="math notranslate nohighlight">\(P_j \in \{ I, X, Y,
Z\}^{\otimes n}\)</span>.</p>
<p>A prototypical example is a molecular Hamiltonian, for which one
may wish to calculate the expectation value <span class="math notranslate nohighlight">\(\langle \Psi
| H | \Psi \rangle\)</span> by decomposing <span class="math notranslate nohighlight">\(H\)</span> into individual
Pauli measurements. Alternatively, one may wish to evolve a state
by the operator <span class="math notranslate nohighlight">\(e^{-iHt}\)</span> for digital quantum simulation.
In this case, the whole operator must be decomposed into native
operations.</p>
<p>In both cases, <span class="math notranslate nohighlight">\(H\)</span> may be represented by a
QubitPauliOperator.</p>
<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span><a class="reference internal" href="pauli.html#pytket.pauli.QubitPauliString" title="pytket.pauli.QubitPauliString">pytket.pauli.QubitPauliString</a><span class="p">, </span>Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><span class="p">, </span>sympy.core.expr.Expr<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.QubitPauliOperator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.compress">
<code class="sig-name descname">compress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">abs_tol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span> <span class="o">=</span> <span class="default_value">1e-10</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.QubitPauliOperator.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes all free symbols in the QubitPauliOperator with
1, and then removes imaginary and real components which have
magnitudes below the tolerance. If the resulting expression is
0, the term is removed entirely.</p>
<p>Warning: This methods assumes significant expression structure
is known a priori, and is best suited to operators which have
simple product expressions, such as excitation operators for
VQE ansätze and digital quantum simulation. Otherwise, it may
remove terms relevant to computation. Each expression is of
the form <span class="math notranslate nohighlight">\(f(a_1,a_2,\ldots,a_n)\)</span> for some symbols
<span class="math notranslate nohighlight">\(a_i\)</span>. <span class="math notranslate nohighlight">\(|f(a_1,a_2,\ldots,a_n)|\)</span> is assumed to
monotonically increase in both real and imaginary components
for all <span class="math notranslate nohighlight">\(a_i \in [0, 1]\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>abs_tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The threshold below which to remove values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.dot_state">
<code class="sig-name descname">dot_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">qubits</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit">pytket.circuit.Qubit</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.QubitPauliOperator.dot_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the operator to the given state, mapping qubits to indexes
according to <code class="docutils literal notranslate"><span class="pre">qubits</span></code>.</p>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">qubits</span></code> is an explicit list, the qubits are ordered with
<code class="docutils literal notranslate"><span class="pre">qubits[0]</span></code> as the most significant qubit for indexing into <code class="docutils literal notranslate"><span class="pre">state</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, qubits sequentially indexed from 0 in the default register
and ordered by ILO-BE so <code class="docutils literal notranslate"><span class="pre">Qubit(0)</span></code> is the most significant.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>numpy.ndarray</em>) – The initial statevector</p></li>
<li><p><strong>qubits</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit"><em>Qubit</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>]</em><em>, </em><em>optional</em>) – Sequencing of qubits in <code class="docutils literal notranslate"><span class="pre">state</span></code>, if not mapped to the
default register. Defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The dot product of the operator with the statevector</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.from_OpenFermion">
<em class="property">classmethod </em><code class="sig-name descname">from_OpenFermion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">openf_op</span><span class="p">:</span> <span class="n">openfermion.ops._qubit_operator.QubitOperator</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator">pytket.utils.QubitPauliOperator</a><a class="headerlink" href="#pytket.utils.QubitPauliOperator.from_OpenFermion" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert OpenFermion QubitOperator to pytket QubitPauliOperator.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.state_expectation">
<code class="sig-name descname">state_expectation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">qubits</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit">pytket.circuit.Qubit</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><a class="headerlink" href="#pytket.utils.QubitPauliOperator.state_expectation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the expectation value of the given statevector with respect
to the operator, mapping qubits to indexes according to <code class="docutils literal notranslate"><span class="pre">qubits</span></code>.</p>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">qubits</span></code> is an explicit list, the qubits are ordered with
<code class="docutils literal notranslate"><span class="pre">qubits[0]</span></code> as the most significant qubit for indexing into <code class="docutils literal notranslate"><span class="pre">state</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, qubits sequentially indexed from 0 in the default register
and ordered by ILO-BE so <code class="docutils literal notranslate"><span class="pre">Qubit(0)</span></code> is the most significant.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>numpy.ndarray</em>) – The initial statevector</p></li>
<li><p><strong>qubits</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit"><em>Qubit</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>]</em><em>, </em><em>optional</em>) – Sequencing of qubits in <code class="docutils literal notranslate"><span class="pre">state</span></code>, if not mapped to the
default register. Defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expectation value of the statevector and operator</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.subs">
<code class="sig-name descname">subs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">symbol_dict</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>sympy.core.symbol.Symbol<span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)">complex</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.QubitPauliOperator.subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes any matching symbols in the QubitPauliOperator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>symbol_dict</strong> (<em>Dict</em><em>[</em><em>Symbol</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.9)"><em>complex</em></a><em>]</em>) – A dictionary of symbols to fixed values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.to_OpenFermion">
<code class="sig-name descname">to_OpenFermion</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; openfermion.ops._qubit_operator.QubitOperator<a class="headerlink" href="#pytket.utils.QubitPauliOperator.to_OpenFermion" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert pytket QubitPauliOperator to OpenFermion QubitOperator.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.to_sparse_matrix">
<code class="sig-name descname">to_sparse_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qubits</span><span class="p">:</span> <span class="n">Union[List[pytket.circuit.Qubit], int, None]</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; csc_matrix<a class="headerlink" href="#pytket.utils.QubitPauliOperator.to_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the sparse operator as a dense operator under the ordering
scheme specified by <code class="docutils literal notranslate"><span class="pre">qubits</span></code>, and generates the corresponding matrix.</p>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">qubits</span></code> is an explicit list, the qubits are ordered with
<code class="docutils literal notranslate"><span class="pre">qubits[0]</span></code> as the most significant qubit for indexing into the matrix.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then no padding qubits are introduced and we use the ILO-BE
convention, e.g. <code class="docutils literal notranslate"><span class="pre">Qubit(&quot;a&quot;,</span> <span class="pre">0)</span></code> is more significant than
<code class="docutils literal notranslate"><span class="pre">Qubit(&quot;a&quot;,</span> <span class="pre">1)</span></code> or <code class="docutils literal notranslate"><span class="pre">Qubit(&quot;b&quot;)</span></code>.</p></li>
<li><p>Giving a number specifies the number of qubits to use in the final
operator, treated as sequentially indexed from 0 in the default register
(padding with identities as necessary) and ordered by ILO-BE so
<code class="docutils literal notranslate"><span class="pre">Qubit(0)</span></code> is the most significant.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qubits</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit"><em>Qubit</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>]</em><em>, </em><em>optional</em>) – Sequencing of qubits in the matrix, either as an explicit
list, number of qubits to pad to, or infer from the operator.
Defaults to None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sparse matrix representation of the operator.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>csc_matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.all_qubits">
<em class="property">property </em><code class="sig-name descname">all_qubits</code><a class="headerlink" href="#pytket.utils.QubitPauliOperator.all_qubits" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The set of all qubits the operator ranges over (including qubits
that were provided explicitly as identities)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Set[<a class="reference internal" href="circuit.html#pytket.circuit.Qubit" title="pytket.circuit.Qubit">Qubit</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pytket.utils.Graph">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">Graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="pytket.utils.Graph.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span><span class="p">:</span> <span class="n"><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for visualising a circuit as a directed acyclic graph (DAG).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>pytket.Circuit</em>) – Circuit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.as_nx">
<code class="sig-name descname">as_nx</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; networkx.classes.multidigraph.MultiDiGraph<a class="headerlink" href="#pytket.utils.Graph.as_nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a logical representation of the circuit as a DAG.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>networkx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.get_DAG">
<code class="sig-name descname">get_DAG</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; graphviz.dot.Digraph<a class="headerlink" href="#pytket.utils.Graph.get_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a visual representation of the DAG as a graphviz object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>graphviz.DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.get_qubit_graph">
<code class="sig-name descname">get_qubit_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; graphviz.dot.Graph<a class="headerlink" href="#pytket.utils.Graph.get_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a visual representation of the qubit connectivity graph as a graphviz object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the qubit connectivity graph of the circuit</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>graphviz.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.save_DAG">
<code class="sig-name descname">save_DAG</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">format</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'pdf'</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.Graph.save_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image of the DAG to a file.</p>
<p>The actual filename will be “&lt;name&gt;.&lt;format&gt;”. A wide range of formats is
supported. See <a class="reference external" href="https://graphviz.org/doc/info/output.html">https://graphviz.org/doc/info/output.html</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Prefix of file name</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – File format, e.g. “pdf”, “png”, …</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.save_qubit_graph">
<code class="sig-name descname">save_qubit_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span></em>, <em class="sig-param"><span class="n">format</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'pdf'</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.Graph.save_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image of the qubit connectivity graph to a file.</p>
<p>The actual filename will be “&lt;name&gt;.&lt;format&gt;”. A wide range of formats is
supported. See <a class="reference external" href="https://graphviz.org/doc/info/output.html">https://graphviz.org/doc/info/output.html</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Prefix of file name</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – File format, e.g. “pdf”, “png”, …</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.view_DAG">
<code class="sig-name descname">view_DAG</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.Graph.view_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>View the DAG.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.view_qubit_graph">
<code class="sig-name descname">view_qubit_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.Graph.view_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>View the qubit connectivity graph.</p>
</dd></dl>

</dd></dl>

<div class="section" id="module-pytket.utils.spam">
<span id="pytket-utils-spam"></span><h2>pytket.utils.spam<a class="headerlink" href="#module-pytket.utils.spam" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pytket.utils.spam.SpamCorrecter">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.spam.</code><code class="sig-name descname">SpamCorrecter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qubit_subsets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket.circuit.Node" title="pytket.circuit.Node">pytket.circuit.Node</a><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend">pytket.backends.Backend</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for generating “state preparation and measurement” (SPAM) calibration
experiments for <code class="docutils literal notranslate"><span class="pre">pytket</span></code> backends, and correcting counts generated from them.</p>
<p>Supports saving calibrated state to a dictionary format, and restoring from the
dictionary.</p>
<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qubit_subsets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket.circuit.Node" title="pytket.circuit.Node">pytket.circuit.Node</a><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend">pytket.backends.Backend</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <cite>SpamCorrecter</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qubit_subsets</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="circuit.html#pytket.circuit.Node" title="pytket.circuit.Node"><em>Node</em></a><em>]</em><em>]</em>) – A list of lists of correlated Nodes of a <cite>Device</cite>.
Qubits within the same list are assumed to only have SPAM errors correlated
with each other. Thus to allow SPAM errors between all qubits you should
provide a single list.</p></li>
<li><p><strong>backend</strong> – Backend on which the experiments are intended to be run
(optional). If provided, the qubits in <cite>qubit_subsets</cite> must be nodes in the
backend’s associated <cite>Device</cite>. If not provided, it is assumed that the
experiment will be run on a <cite>Device</cite> with the nodes in <cite>qubit_subsets</cite>, and
furthermore that the intended device natively supports X gates.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – There are repeats in the <cite>qubit_subsets</cite> specification.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.calculate_matrices">
<code class="sig-name descname">calculate_matrices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts_list</span><span class="p">:</span> <span class="n">List[Dict[Tuple[int, …], int]]</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.calculate_matrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the calibration matrices from the results of running calibration
circuits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts_list</strong> (<em>List</em><em>[</em><em>CountsDict</em><em>]</em>) – List of result counts. Must be in the same order as the
corresponding circuits generated by <cite>calibration_circuits</cite>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – Calibration circuits have not been generated yet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.calibration_circuits">
<code class="sig-name descname">calibration_circuits</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">pytket.circuit.Circuit</a><span class="p">]</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.calibration_circuits" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate calibration circuits according to the specified correlations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of calibration circuits to be run on the machine. The circuits
should be processed without compilation. Results from these circuits must be
given back to this class (via the <cite>calculate_matrices</cite> method) in the same
order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">Circuit</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.correct_counts">
<code class="sig-name descname">correct_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em>, <em class="sig-param"><span class="n">res_map</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference internal" href="circuit.html#pytket.circuit.Node" title="pytket.circuit.Node">pytket.circuit.Node</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></span> <span class="o">=</span> <span class="default_value">'bayesian'</span></em>, <em class="sig-param"><span class="n">options</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="default_value">{}</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.correct_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct results counts from calibrated backend according to calibration data,
using the specified method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>CountsDict</em>) – Input counts</p></li>
<li><p><strong>res_map</strong> (<em>ResultsMap</em>) – Dictionary mapping each calibrated <cite>Node</cite> of the backend to the
position in the <cite>counts</cite> state tuple corresponding to the result from that
qubit.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) – <p>Method to use for calculating the corrected counts.
Options are:</p>
<ul>
<li><p>”bayesian” (default): Use an iterative Bayesian technique to converge to
the corrected counts.</p></li>
<li><p>”invert”: Invert the calibration matrix exactly, remove any negative terms
from the result and rescale.</p></li>
</ul>
<p>The “bayesian” method may be faster than inversion when there are large
qubit sets in the partition; it is also less sensitive to statistical
fluctuations in the data. For small qubit sets and a large number of shots
in the calibration experiments, the “invert” method may give more accurate
results.</p>
</p></li>
<li><p><strong>options</strong> (<em>Dict</em><em>, </em><em>optional</em>) – <p>Options for the method. Possible options are:</p>
<ul>
<li><p>”tol”: Convergence tolerance (for “bayesian” method).</p></li>
<li><p>”maxiter”: Number of iterations before terminating if convergence is not
reached (for “bayesian” method).</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – Calibration matrix has not been calculated, or results
map does not provide a result position for all calibrated qubits.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – Invalid method string.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Corrected counts, possibly with floating-point count values.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CountsDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict</span><span class="p">:</span> <span class="n">Dict</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.spam.SpamCorrecter" title="pytket.utils.spam.SpamCorrecter">pytket.utils.spam.SpamCorrecter</a><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a <cite>SpamCorrecter</cite> instance from a dictionary in the format returned by
<cite>to_dict</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary of calibration information.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pytket.utils.spam.SpamCorrecter" title="pytket.utils.spam.SpamCorrecter">SpamCorrecter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get calibration information as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary output</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pytket.utils.spam.compress_counts">
<code class="sig-prename descclassname">pytket.utils.spam.</code><code class="sig-name descname">compress_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], float]</span></em>, <em class="sig-param"><span class="n">tol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a></span> <span class="o">=</span> <span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">round_to_int</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.spam.compress_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter counts to remove states that have a count value (which can be a floating-
point number) below a tolerance, and optionally round to an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>StateTuple</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>]</em>) – Input counts</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>, </em><em>optional</em>) – Value below which counts are pruned. Defaults to 1e-6.</p></li>
<li><p><strong>round_to_int</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to round each count to an integer. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered counts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>CountsDict</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logging.html" class="btn btn-neutral float-right" title="pytket.logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="transform.html" class="btn btn-neutral float-left" title="pytket.transform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Cambridge Quantum Computing Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>